/*
        ########
     ##############
   #####        #####
  ####            ####
 ####              ####
 ###                ###
####                ####
####                ####
                    ####
                    ####
                    ####
                    ####
*/

            main(int
         c,char**v){int
       ETE=-        0,DEL
      =010            ,ME,
     s;ME              =ETE
     --;                DEL
    =ETE                ?~0:
    DEL%                8;s=
                        DEL|
                        ETE|
                        ~ME|
#define U(c)(c-1>>6&(c)/015<0x7)
1;/****************************/
/******************************/
/**************  **************/
/***********(      7***********/
/*************    *************/
/**************  **************/
/*************    *************/
/************      ************/
/******************************/
/******************************/
s=1;
/* 32 * 10 */

/* could obfuscate this string if there's room */
if(c^3)return!!printf("Usage: %s key text\n",*v);

char*k=*++v,*t,a;
for(c=0;k[c];c++);

for(t=k;*t;t++){
if(U(*t-32))*t-=32;
if(!U(*t))return!!puts("Key must be letters");
}

t=*++v;
int j=0;
for(;*t;t++){
a=U(*t-32)?'A':U(*t)?'a':0;
*t=a?a+((*t-a)+s*(k[j++%c]-'A')+26)%26:*t;
}

return!puts(*v);}
