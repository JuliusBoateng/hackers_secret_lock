/*
        ########
     ##############
   #####        #####
  ####            ####
 ####              ####
 ###                ###
####                ####
####                ####
                    ####
                    ####
                    ####
                    ####
*/

            main(int
         c,char**v){int
       ETE=-        0,DEL
      =010            ,ME,
     s;ME              =ETE
     --;                DEL
    =ETE                ?~0:
    DEL%                8;s=
                        DEL|
                        ETE|
                        ~ME|
1;/****************************/
/******************************/
/**************  **************/
/***********(      7***********/
/*************    *************/
/**************  **************/
/*************    *************/
/************      ************/
/******************************/
/******************************/
/* 32 * 10 */

/* could obfuscate this string if there's room */
if(c^3)return!!printf("Usage: %s key text\n",*v);

char*k=*++v,*t,a;
for(c=0;k[c];c++);

for(t=k;*t;t++){
if(*t>96&*t<'{')*t-=32;
if(*t<65|*t>90)return!!puts("Key must be letters");
}

t=*++v;
int j=0;
for(;*t;t++){
a=*t>64&*t<91?'A':*t>96&*t<'{'?'a':0;
*t=a?a+((*t-a)+s*(k[j++%c]-'A')+26)%26:*t;
}

return!puts(*v);
}
